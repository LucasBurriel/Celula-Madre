<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CÃ©lula Madre â€” Experiment Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
<style>
  :root {
    --bg: #0d1117; --surface: #161b22; --border: #30363d;
    --text: #e6edf3; --text-dim: #8b949e; --accent: #58a6ff;
    --green: #3fb950; --red: #f85149; --yellow: #d29922; --purple: #bc8cff;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, 'Segoe UI', Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); padding: 24px; }
  h1 { font-size: 28px; margin-bottom: 4px; }
  .subtitle { color: var(--text-dim); margin-bottom: 32px; font-size: 14px; }
  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 20px; margin-bottom: 32px; }
  .card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 20px; }
  .card h2 { font-size: 16px; color: var(--accent); margin-bottom: 12px; }
  .card h3 { font-size: 14px; color: var(--text-dim); margin-bottom: 8px; }
  table { width: 100%; border-collapse: collapse; font-size: 13px; }
  th, td { padding: 6px 10px; text-align: left; border-bottom: 1px solid var(--border); }
  th { color: var(--text-dim); font-weight: 600; font-size: 11px; text-transform: uppercase; }
  .stat { display: inline-block; text-align: center; margin-right: 24px; }
  .stat-value { font-size: 32px; font-weight: 700; }
  .stat-label { font-size: 11px; color: var(--text-dim); text-transform: uppercase; }
  .badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 600; }
  .badge-green { background: rgba(63,185,80,0.15); color: var(--green); }
  .badge-red { background: rgba(248,81,73,0.15); color: var(--red); }
  .badge-yellow { background: rgba(210,153,34,0.15); color: var(--yellow); }
  .badge-purple { background: rgba(188,140,255,0.15); color: var(--purple); }
  .badge-blue { background: rgba(88,166,255,0.15); color: var(--accent); }
  .chart-container { position: relative; height: 280px; }
  .finding { padding: 12px; border-left: 3px solid var(--accent); margin-bottom: 8px; font-size: 13px; }
  .finding strong { color: var(--green); }
  .timeline { position: relative; padding-left: 20px; }
  .timeline::before { content: ''; position: absolute; left: 6px; top: 0; bottom: 0; width: 2px; background: var(--border); }
  .timeline-item { position: relative; margin-bottom: 16px; font-size: 13px; }
  .timeline-item::before { content: ''; position: absolute; left: -17px; top: 6px; width: 8px; height: 8px; border-radius: 50%; background: var(--accent); }
  .timeline-item .date { color: var(--text-dim); font-size: 11px; }
  .filter-bar { margin-bottom: 20px; display: flex; gap: 8px; flex-wrap: wrap; }
  .filter-btn { background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 6px 14px; border-radius: 8px; cursor: pointer; font-size: 12px; }
  .filter-btn.active { border-color: var(--accent); color: var(--accent); }
  .filter-btn:hover { border-color: var(--text-dim); }
</style>
</head>
<body>

<h1>âš¡ CÃ©lula Madre â€” Experiment Dashboard</h1>
<p class="subtitle">Evolutionary prompt optimization for LLM agents Â· Tesla Burriel Â· Updated 2026-02-13</p>

<!-- Summary Stats -->
<div class="grid">
  <div class="card">
    <div style="display:flex;flex-wrap:wrap;gap:8px 32px;">
      <div class="stat"><div class="stat-value" style="color:var(--green)">+4.7pp</div><div class="stat-label">Evolution vs Baseline</div></div>
      <div class="stat"><div class="stat-value">83.7%</div><div class="stat-label">Best Mean (V6)</div></div>
      <div class="stat"><div class="stat-value" style="color:var(--yellow)">p=0.041</div><div class="stat-label">Significance</div></div>
      <div class="stat"><div class="stat-value">6</div><div class="stat-label">Valid Runs</div></div>
    </div>
  </div>
</div>

<!-- Filter -->
<div class="filter-bar">
  <button class="filter-btn active" onclick="filterVersion('all',this)">All Versions</button>
  <button class="filter-btn" onclick="filterVersion('v4',this)">V4 â€” Market Sim</button>
  <button class="filter-btn" onclick="filterVersion('v5',this)">V5 â€” BTC/ETH</button>
  <button class="filter-btn" onclick="filterVersion('v6',this)">V6 â€” AG News</button>
  <button class="filter-btn" onclick="filterVersion('v65',this)">V6.5 â€” Market Selection</button>
  <button class="filter-btn" onclick="filterVersion('v7',this)">V7 â€” Negotiation</button>
</div>

<div class="grid">
  <!-- V6 Test Accuracy Chart -->
  <div class="card" data-version="v6">
    <h2>V6 Test Accuracy by Group</h2>
    <div class="chart-container"><canvas id="v6BarChart"></canvas></div>
  </div>

  <!-- V6 Gen Trajectory (R1 only has full data) -->
  <div class="card" data-version="v6">
    <h2>V6 Reflective R1 â€” Gen-over-Gen Val Accuracy</h2>
    <div class="chart-container"><canvas id="v6TrajectoryChart"></canvas></div>
  </div>

  <!-- V6 Results Table -->
  <div class="card" data-version="v6">
    <h2>V6 Detailed Results</h2>
    <table>
      <tr><th>Group</th><th>Run</th><th>Test Acc</th><th>Best Val</th><th>Status</th></tr>
      <tr><td>Reflective</td><td>1</td><td><strong>89.0%</strong></td><td>96%</td><td><span class="badge badge-green">âœ“ Best</span></td></tr>
      <tr><td>Reflective</td><td>2</td><td>80.5%</td><td>84%</td><td><span class="badge badge-green">âœ“</span></td></tr>
      <tr><td>Reflective</td><td>3</td><td>81.5%</td><td>87%</td><td><span class="badge badge-green">âœ“</span></td></tr>
      <tr><td>Random</td><td>1</td><td>87.0%</td><td>89%</td><td><span class="badge badge-green">âœ“</span></td></tr>
      <tr><td>Random</td><td>2</td><td>78.5%</td><td>81%</td><td><span class="badge badge-green">âœ“</span></td></tr>
      <tr><td>Random</td><td>3</td><td>84.5%</td><td>87%</td><td><span class="badge badge-green">âœ“</span></td></tr>
      <tr><td>Static</td><td>1-3</td><td colspan="2">~79% (invalidated â€” LM Studio crash)</td><td><span class="badge badge-red">âœ—</span></td></tr>
    </table>
    <div style="margin-top:12px;font-size:12px;color:var(--text-dim)">
      Reflective mean: 83.7% Â· Random mean: 83.3% Â· p=0.932 (no significant difference) Â· Gen-0 baseline: ~79%
    </div>
  </div>

  <!-- V6 Statistical Summary -->
  <div class="card" data-version="v6">
    <h2>V6 Statistical Tests</h2>
    <table>
      <tr><th>Comparison</th><th>p-value</th><th>Cohen's d</th><th>Verdict</th></tr>
      <tr><td>Evolution vs Gen-0 Baseline</td><td style="color:var(--green)">0.041</td><td>1.46</td><td><span class="badge badge-green">Significant</span></td></tr>
      <tr><td>Reflective vs Random</td><td>0.932</td><td>0.091</td><td><span class="badge badge-yellow">No difference</span></td></tr>
    </table>
  </div>

  <!-- V4 Summary -->
  <div class="card" data-version="v4">
    <h2>V4 â€” Synthetic Market (2 runs)</h2>
    <table>
      <tr><th>Group</th><th>Mean Profit</th><th>Agents</th><th>Verdict</th></tr>
      <tr><td>Experimental (guided)</td><td>90.81</td><td>24</td><td><span class="badge badge-red">Over-explored</span></td></tr>
      <tr><td>Control (random)</td><td>208.57</td><td>11</td><td><span class="badge badge-green">Winner</span></td></tr>
    </table>
    <div style="margin-top:8px;font-size:12px;color:var(--text-dim)">p&lt;0.0001, Cohen's d=-2.01. Guided mutation over-explored, diluted market share.</div>
  </div>

  <!-- V5 Summary -->
  <div class="card" data-version="v5">
    <h2>V5 â€” BTC/ETH Prediction</h2>
    <div class="finding">Best agent: mean-reversion, <strong>59.4% test accuracy</strong> (pâ‰ˆ0.03 vs 50%).</div>
    <div class="finding">But majority-class baseline = 58.4% (always DOWN). Class imbalance trap.</div>
    <div class="finding">No generational improvement â€” best agent always Gen 0 seed.</div>
    <div style="margin-top:8px"><span class="badge badge-yellow">Inconclusive</span> Task too noisy for evolution signal.</div>
  </div>

  <!-- V6.5 Summary -->
  <div class="card" data-version="v65">
    <h2>V6.5 â€” Market Selection on AG News (Partial)</h2>
    <h3>Market Run 1 Â· 7 generations</h3>
    <table>
      <tr><th>Metric</th><th>Value</th></tr>
      <tr><td>Best Val Accuracy</td><td>93% (gen 1)</td></tr>
      <tr><td>Stable Val (gen 4-6)</td><td>~92%</td></tr>
      <tr><td>Gini Coefficient</td><td>0.099 â†’ 0.204</td></tr>
      <tr><td>HHI (market concentration)</td><td>&lt;0.15 (competitive)</td></tr>
      <tr><td>Mutation Acceptance</td><td>75% (with tolerance)</td></tr>
    </table>
    <div style="margin-top:8px"><span class="badge badge-purple">Incomplete</span> Only 1 run, 7/10 gens. Blocked on LLM access.</div>
  </div>

  <!-- V7 Summary -->
  <div class="card" data-version="v7">
    <h2>V7 â€” Deal-or-No-Deal Negotiation</h2>
    <div class="finding">Multi-turn negotiation = 6 LLM calls per eval. <strong>Computationally infeasible</strong> with local LLMs.</div>
    <div class="finding">Even gemma-3-4b can't complete a 3-turn negotiation in 90s.</div>
    <div class="finding">Code complete (engine + market selection + 12 experiments designed), but never ran.</div>
    <div style="margin-top:8px"><span class="badge badge-red">Abandoned</span> Needs cloud API ($153+ for full run).</div>
  </div>

  <!-- Key Findings -->
  <div class="card" data-version="all">
    <h2>ðŸ”‘ Key Findings</h2>
    <div class="finding"><strong>1. Evolution works.</strong> +4.7pp over static baseline on AG News (p=0.041).</div>
    <div class="finding"><strong>2. Reflective â‰ˆ Random mutation.</strong> Error analysis adds no value on simple tasks (p=0.932).</div>
    <div class="finding"><strong>3. Population management > mutation quality.</strong> Elitism top-2 is critical. Gating must be tolerant.</div>
    <div class="finding"><strong>4. Task choice determines everything.</strong> AG News worked, BTC didn't, negotiation was impossible.</div>
    <div class="finding"><strong>5. Local LLMs are unreliable</strong> for multi-day experiments. Models unload, processes die.</div>
  </div>

  <!-- Timeline -->
  <div class="card" data-version="all">
    <h2>ðŸ“… Experiment Timeline</h2>
    <div class="timeline">
      <div class="timeline-item"><div class="date">Feb 9</div>V4 analysis: control (random) beats experimental by 2x</div>
      <div class="timeline-item"><div class="date">Feb 10</div>V5 BTC run: 59.4% â‰ˆ majority baseline. V6 designed + implemented.</div>
      <div class="timeline-item"><div class="date">Feb 10-11</div>V6 runs (9 planned): 3 reflective + 3 random complete. Static invalidated.</div>
      <div class="timeline-item"><div class="date">Feb 11</div>Paper draft written. V7 designed + implemented. Literature review.</div>
      <div class="timeline-item"><div class="date">Feb 11-12</div>V7 attempts fail (too slow). V6.5 designed (market selection on AG News).</div>
      <div class="timeline-item"><div class="date">Feb 12</div>V6.5 Market Run 1: 7 gens before LM Studio died. Paper polished to LaTeX.</div>
      <div class="timeline-item"><div class="date">Feb 12-13</div>V8 designed, data pipeline + runner built. Dashboard, blog post, tests.</div>
    </div>
  </div>

  <!-- Paper Status -->
  <div class="card" data-version="all">
    <h2>ðŸ“„ Paper Status</h2>
    <table>
      <tr><th>Component</th><th>Status</th></tr>
      <tr><td>LaTeX paper (9 pages)</td><td><span class="badge badge-green">Complete</span></td></tr>
      <tr><td>Figures (3 matplotlib)</td><td><span class="badge badge-green">Complete</span></td></tr>
      <tr><td>References (8 verified arxiv IDs)</td><td><span class="badge badge-green">Complete</span></td></tr>
      <tr><td>arXiv tarball</td><td><span class="badge badge-green">Ready</span></td></tr>
      <tr><td>V6.5 market selection data</td><td><span class="badge badge-yellow">Incomplete</span></td></tr>
      <tr><td>Submission</td><td><span class="badge badge-purple">On hold (waiting for V6.5)</span></td></tr>
    </table>
  </div>

  <!-- Blockers -->
  <div class="card" data-version="all">
    <h2>ðŸš§ Current Blockers</h2>
    <table>
      <tr><th>Blocker</th><th>Impact</th><th>Fix</th></tr>
      <tr><td>No OpenRouter API key</td><td>V6.5 + V8 blocked</td><td>Lucas signs up (free, 2 min)</td></tr>
      <tr><td>LM Studio unreliable</td><td>Any local LLM experiment</td><td>Cloud API alternative</td></tr>
      <tr><td>Cloudflare CAPTCHA</td><td>Can't self-register</td><td>Human signup needed</td></tr>
    </table>
  </div>
</div>

<script>
// V6 Bar Chart
const v6Bar = new Chart(document.getElementById('v6BarChart'), {
  type: 'bar',
  data: {
    labels: ['Reflective R1', 'Reflective R2', 'Reflective R3', 'Random R1', 'Random R2', 'Random R3'],
    datasets: [{
      label: 'Test Accuracy (%)',
      data: [89.0, 80.5, 81.5, 87.0, 78.5, 84.5],
      backgroundColor: ['#58a6ff','#58a6ff','#58a6ff','#bc8cff','#bc8cff','#bc8cff'],
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      annotation: {}
    },
    scales: {
      y: { min: 70, max: 95, ticks: { color: '#8b949e', callback: v => v+'%' }, grid: { color: '#30363d' } },
      x: { ticks: { color: '#8b949e', font: { size: 11 } }, grid: { display: false } }
    }
  }
});

// V6 Trajectory
const v6Traj = new Chart(document.getElementById('v6TrajectoryChart'), {
  type: 'line',
  data: {
    labels: ['Gen 0','Gen 1','Gen 2','Gen 3','Gen 4','Gen 5','Gen 6','Gen 7','Gen 8','Gen 9'],
    datasets: [{
      label: 'Best Val Accuracy',
      data: [91, 94, 94, 94, 94, 95, 95, 96, 96, 96],
      borderColor: '#58a6ff', backgroundColor: 'rgba(88,166,255,0.1)',
      fill: true, tension: 0.3, pointRadius: 4,
    },{
      label: 'Gen-0 Baseline (~79%)',
      data: [79,79,79,79,79,79,79,79,79,79],
      borderColor: '#f85149', borderDash: [5,5], pointRadius: 0,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { labels: { color: '#e6edf3' } } },
    scales: {
      y: { min: 75, max: 100, ticks: { color: '#8b949e', callback: v => v+'%' }, grid: { color: '#30363d' } },
      x: { ticks: { color: '#8b949e' }, grid: { color: '#30363d' } }
    }
  }
});

// Filter logic
function filterVersion(ver, btn) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.card[data-version]').forEach(card => {
    const v = card.dataset.version;
    card.style.display = (ver === 'all' || v === ver || v === 'all') ? '' : 'none';
  });
}
</script>
</body>
</html>
